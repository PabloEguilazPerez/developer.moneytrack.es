export const description =
  'On this page, we’ll dive into the different user endpoints you can use to manage users programmatically.'

# Usuarios

Como sugiere el nombre, los usuarios son una parte central del MoneyTrack; la razón por la que existe el MoneyTrack es para que pueda tener conversaciones seguras con sus usuarios. En esta página, profundizaremos en los diferentes puntos finales de usuario que puede utilizar para administrar usuarios mediante programación. Veremos cómo consultar, crear, actualizar y eliminar usuarios. {{ className: 'lead' }}

## Modelo Usuario

El modelo de usuario contiene toda la información sobre sus usuarios, como su nombre, apellidos y email.

### Propiedades

<Properties>
  <Property name="nombre" type="string">
    Nombre del usuario
  </Property>
  <Property name="apellidos" type="string">
    Apellidos del usuario
  </Property>
  <Property name="email" type="string">
    Email del usuario
  </Property>
  <Property name="subscription" type="string">
    Nivel de subscripcion
  </Property>
  <Property name="enableBiometricLogin" type="boolean">
    Si el usuario tiene activado el auautenticación biométrica
  </Property>
  <Property name="token" type="string">
    Token para hacer las petitciones a la API
  </Property>
</Properties>

---

## Login a User {{ tag: 'POST', label: '/user' }}

<Row>
  <Col>

    Este punto final le permite recuperar un usuario desde su email y contraseña

    ### Required attributes

    <Properties>
      <Property name="email" type="string">
        Email del usuario
      </Property>
      <Property name="password" type="string">
        Contraseña del usuario
      </Property>
      <Property name="app" type="string">
        App desde la que hace el login el usuario
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/user">

    ```bash {{ title: 'cURL' }}
    curl -L 'https://api.moneytrack.es/auth/' \
      -H 'Content-Type: application/json' \
    ```

    </CodeGroup>

    ```json {{ title: 'Cuerpo' }}
    {
      "email": "fernandoalonso@gmail.com",
      "password": "1234",
      "app": "NombreDeMiApp"
    }
    ```

    ```json {{ title: 'Response' }}
    {
      "nombre": "Fernando",
      "apellidos": "Alonso",
      "email": "fernandoalonso@gmail.com",
      "subscription": "No Verificada",
      "enableBiometricLogin": false,
      "token": "7UtCS9yR8Rjb3VM9KcH10hRMpRv8JrDHvo"
    }
    ```

  </Col>
</Row>

---

## Obtener usuario autenticado {{ tag: 'GET', label: '/user' }}

<Row>
  <Col>

    This endpoint allows you to add a new user to your user list in Protocol. To add a user, you must provide their Protocol username and phone number.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/user">


    ```bash {{ title: 'cURL' }}
    curl -G https://api.moneytrack.es/auth/ \
      -H "Token: {token}" \
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "nombre": "Fernando",
      "apellidos": "Alonso",
      "email": "fernandoalonso@gmail.com",
      "subscription": "No Verificada",
      "enableBiometricLogin": false,
      "token": "7UtCS9yR8Rjb3VM9KcH10hRMpRv8JrDHvo"
    }
    ```

  </Col>
</Row>

---

## Obtener sesiones activas {{ tag: 'GET', label: '/user' }}

<Row>
  <Col>

    Obtener sesiones activas de un usuario

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/user/tokens">


    ```bash {{ title: 'cURL' }}
    curl -G https://api.moneytrack.es/user/tokens \
      -H "Token: {token}" \
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    [
      {
        "id": 1,
        "ip": "80.103.136.29",
        "app": "Postman",
        "lastUse": "2024-06-12 09:26:34",
        "expired": "2024-06-13 09:26:34"
      }
    ]
    ```

  </Col>
</Row>

---

## Obtener Uso {{ tag: 'GET', label: '/user' }}

<Row>
  <Col>

    Obtener el uso de un Usuario

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/user/uso">


    ```bash {{ title: 'cURL' }}
    curl -G https://api.moneytrack.es/user/uso \
      -H "Token: {token}" \
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "transacciones": {
        "total": 300,
        "usados": 214,
        "porcentaje": 71.33333333333334
      },
      "presupuestos": {
        "total": 5,
        "usados": 1,
        "porcentaje": 20
      },
      "movimientosRecurrentes": {
        "total": 3,
        "usados": 1,
        "porcentaje": 33.33333333333333
      },
      "webhooks": {
        "total": 2,
        "usados": 0,
        "porcentaje": 0
      },
      "api": {
        "total": 30000,
        "usados": 572,
        "porcentaje": 1.9066666666666665
      },
      "cambioDivisa": {
        "total": 25,
        "usados": 0,
        "porcentaje": 0
      }
    }
    ```

  </Col>
</Row>

---

## Obtener Notificaciones {{ tag: 'GET', label: '/notificaciones' }}

<Row>
  <Col>

    Obtener las notificaciones de un usuario

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/notificaciones">


    ```bash {{ title: 'cURL' }}
    curl -G https://api.moneytrack.es/notificaciones \
      -H "Token: {token}" \
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "data": [
        {
          "id": 1,
          "titulo": "Nuevo Inicio de Sesión",
          "contenido": "Se ha iniciado sesión en su cuenta desde un nuevo dispositivo",
          "vista": true
        },
        {
          "id": 2,
          "titulo": "Nuevo Inicio de Sesión",
          "contenido": "Se ha iniciado sesión en su cuenta desde un nuevo dispositivo",
          "vista": false
        }
      ],
      "meta": {
        "total": 2,
        "pages": 1,
        "page": 1,
        "per_page": 30
      }
    }
    ```

  </Col>
</Row>
